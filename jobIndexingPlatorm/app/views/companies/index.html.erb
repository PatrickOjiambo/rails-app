<div class="companies-index">
  <div class="hero-section">
    <div class="container">
      <h1>Explore Companies</h1>
      <p>Discover job opportunities at <%= @companies.total_count %> companies worldwide</p>
      
      <%= form_with url: companies_path, method: :get, local: true, class: 'search-form' do |f| %>
        <%= f.text_field :search, placeholder: 'Search companies...', 
                        value: params[:search], class: 'search-input' %>
        <%= f.submit 'Search', class: 'btn btn-primary' %>
      <% end %>
    </div>
  </div>
  
  <div class="container">
    <% if @featured_companies.any? %>
      <section class="featured-companies">
        <h2>Top Hiring Companies</h2>
        <div class="company-grid">
          <% @featured_companies.each do |company| %>
            <%= render 'shared/company_card', company: company %>
          <% end %>
        </div>
      </section>
    <% end %>
    
    <section class="all-companies">
      <h2>All Companies</h2>
      <div class="company-list">
        <% @companies.each do |company| %>
          <%= render 'shared/company_row', company: company %>
        <% end %>
      </div>
      
      <%= paginate @companies %>
    </section>
  </div>
</div>